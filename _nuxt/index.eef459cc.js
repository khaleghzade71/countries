import{b as f,e as k,o as c,f as r,h as p,i as _,F as h,m as y,t as v,q,s as L,v as C,a as m,k as O,u as i,x as S,w as R}from"./entry.a76b818e.js";import{_ as U}from"./nuxt-link.1e961d92.js";import{a as B}from"./asyncData.afa3f2f6.js";const D={class:"input"},F=["placeholder","value"],N={__name:"AppInput",props:{modelValue:{type:String},placeholder:{type:String},icon:{type:String}},setup(e){return(d,u)=>{const t=k("font-awesome-icon");return c(),r("div",D,[p(t,{style:{color:"gray"},icon:e.icon},null,8,["icon"]),_("input",{placeholder:e.placeholder,class:"input__text",value:e.modelValue,onInput:u[0]||(u[0]=n=>d.$emit("update:modelValue",n.target.value))},null,40,F)])}}},j=f(N,[["__scopeId","data-v-07f0eb2a"]]);const z=e=>(q("data-v-5b9a7431"),e=e(),L(),e),E=["value"],P=z(()=>_("option",{value:"",disabled:"",selected:"",hidden:""},"Filter by Region",-1)),T=["value"],G={__name:"AppSelectOption.",props:{options:{type:Array},modelValue:{type:String}},setup(e){return(d,u)=>(c(),r("select",{class:"select",value:e.modelValue,onChange:u[0]||(u[0]=t=>d.$emit("update:modelValue",t.target.value))},[P,(c(!0),r(h,null,y(e.options,t=>(c(),r("option",{key:t,value:t},v(t),9,T))),128))],40,E))}},H=f(G,[["__scopeId","data-v-5b9a7431"]]);const J={class:"card"},K=["src"],M={class:"card__text"},Q={class:"card__title"},W={class:"card__details"},X={class:"card__key"},Y={class:"card__value"},Z={__name:"AppCard",props:{src:{type:String,required:!0},title:{type:String,required:!0},details:{type:Object,required:!0}},setup(e){return(d,u)=>(c(),r("div",J,[_("img",{class:"card__img",src:e.src},null,8,K),_("div",M,[_("p",Q,v(e.title),1),(c(!0),r(h,null,y(e.details,(t,n)=>(c(),r("div",{key:n},[_("div",W,[_("p",X,v(n)+" :",1),_("p",Y,v(t),1)])]))),128))])]))}},ee=f(Z,[["__scopeId","data-v-936630bd"]]);const te={class:"filter"},se={class:"cards"},oe={__name:"index",async setup(e){let d,u,t=C(""),n=C("");const x=m(()=>n.value?`region/${n.value}`:"all"),{data:g}=([d,u]=O(()=>B("countries",()=>$fetch(`https://restcountries.com/v2/${x.value}`),{watch:[x.value]})),d=await d,u(),d),A=m(()=>{var s;return(s=g.value)==null?void 0:s.filter(o=>o.name.toLowerCase().includes(t.value.toLowerCase())&&o.region.includes(n.value))}),V=m(()=>({region:s,population:o,capital:a})=>({Region:(s==null?void 0:s.charAt(0).toUpperCase())+(s==null?void 0:s.slice(1)),Population:o,Capital:(a==null?void 0:a.charAt(0).toUpperCase())+(a==null?void 0:a.slice(1))})),$=m(()=>{var s;return(s=g.value)==null?void 0:s.reduce((o,a)=>(o.indexOf(a.region)===-1&&o.push(a.region),o),[])});return(s,o)=>{const a=j,b=H,I=ee,w=U;return c(),r(h,null,[_("section",te,[p(a,{modelValue:i(t),"onUpdate:modelValue":o[0]||(o[0]=l=>S(t)?t.value=l:t=l),placeholder:"Search for a country...",icon:"fa-search"},null,8,["modelValue"]),p(b,{options:i($),modelValue:i(n),"onUpdate:modelValue":o[1]||(o[1]=l=>S(n)?n.value=l:n=l)},null,8,["options","modelValue"])]),_("section",se,[(c(!0),r(h,null,y(i(A),l=>(c(),r("div",{class:"cards__item",key:l.alpha3Code},[p(w,{style:{"text-decoration":"none",color:"inherit"},to:"/details/"+l.alpha3Code},{default:R(()=>[p(I,{src:l.flags.svg,title:l.name,details:i(V)(l)},null,8,["src","title","details"])]),_:2},1032,["to"])]))),128))])],64)}}},_e=f(oe,[["__scopeId","data-v-44829e1f"]]);export{_e as default};
